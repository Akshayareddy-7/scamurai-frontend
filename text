1. JENKINS PIPELINE for Java & Web App (from opening Jenkins)
Open Jenkins
http://localhost:8080

Create Pipeline Job

-Dashboard ‚Üí New Item

-Enter name: Java-Web-Pipeline

-Select Pipeline

-Click OK

Scroll to Pipeline script section & paste
pipeline {
    agent any

    stages {
        stage('Clone Source') {
            steps {
                git 'https://github.com/<username>/<repo>.git'
            }
        }
        stage('Build') {
            steps {
                sh 'mvn clean install'
            }
        }
        stage('Test') {
            steps {
                sh 'mvn test'
            }
        }
        stage('Package') {
            steps {
                archiveArtifacts 'target/*.war'
            }
        }
        stage('Deploy') {
            steps {
                sh 'cp target/*.war /var/lib/tomcat9/webapps/'
            }
        }
    }
}

Run pipeline

-Click Save

-Click Build Now

-Click Console Output to monitor

üîó 2. Webhook Integration in Jenkins (GitHub ‚Üí Auto build)
Get Webhook URL

-Dashboard ‚Üí open your pipeline job

-Click Configure

-Tick GitHub hook trigger for GITScm polling

-Save

-Copy webhook endpoint:

http://<jenkins-ip>:8080/github-webhook/

Set up in GitHub

-Repo ‚Üí Settings ‚Üí Webhooks ‚Üí Add Webhook

-Payload URL:

http://<jenkins-ip>:8080/github-webhook/


-Content type: application/json

-Events: Just the push event

-Click Add Webhook

‚Üí Now Jenkins auto-builds on every push.

üì° 3. NAGIOS Monitoring Setup
Open Nagios
http://<server-ip>/nagios


Login:

Username: nagiosadmin
Password: <yourpassword>

Add new host
sudo nano /usr/local/nagios/etc/objects/hosts.cfg


Paste:

define host{
    use                     linux-server
    host_name               appserver
    alias                   Web Server Monitoring
    address                 192.168.1.50
}

Add service check
sudo nano /usr/local/nagios/etc/objects/services.cfg


Paste:

define service{
    use                     generic-service
    host_name               appserver
    service_description     Ping Check
    check_command           check_ping!100.0,20%!500.0,60%
}

Restart
sudo systemctl restart nagios

Verify

‚Üí Dashboard ‚Üí Hosts ‚Üí Status OK/Warning/Critical

üå©Ô∏è 4. Deploy Web App on AWS EC2
Launch Instance

AWS Console ‚Üí EC2 ‚Üí Launch Instance

Ubuntu Server

t2.micro

Create Key pair

Security groups: Allow 22, 8080, 80

SSH into instance
ssh -i "key.pem" ubuntu@<public-ip>

Install Java + Maven
sudo apt update
sudo apt install openjdk-11-jdk maven -y

Clone project
git clone https://github.com/<username>/<repo>.git
cd repo
mvn clean install

Run web app
java -jar target/app.jar

Access
http://<EC2-public-ip>:8080

Steps for a project deployment 
->Till above same steps then 
open cmd and type the ssh given in aws 
then 1) sudo apt update
2) sudo apt-get install docker.io
3)sudo apt install git
4)sudo apt install nano
-> Clone a git repo given in q paper 
1) Go to the directory
2) nano Dockerfile
3) run some nginx 
FROM nginx:alpine
COPY . usr/share/nginx/html
type the above and then ctrl+o
-> Now make a docker image tht is go to the cmd and type
1)sudo docker build -t mywebapp .
2)sudo docker run -d -p 80:80 mywebapp
-> go to instances in aws 
copy the public ipv4 and run
‚ò∏Ô∏è 5. Kubernetes (Minikube) Scaling / Deployment
Start Minikube
minikube start

Create Deployment
kubectl create deployment mysql --image=mysql:5.7

Scale
kubectl scale deployment mysql --replicas=5

Check
kubectl get pods -o wide

üê≥ 6. Docker & YAML (Compose) Example
Create Dockerfile
nano Dockerfile


Paste:

FROM openjdk:11
COPY target/app.jar app.jar
CMD ["java", "-jar", "app.jar"]

Build Image
docker build -t myapp:v1 .

Run
docker run -p 8080:8080 myapp:v1

Docker Compose YAML
nano docker-compose.yml


Paste:

version: "3.8"
services:
  db:
    image: mysql:5.7
    container_name: mysql
    environment:
      MYSQL_ROOT_PASSWORD: root
    ports:
      - "3306:3306"

  web:
    image: wordpress
    container_name: wordpress
    ports:
      - "8080:80"
    environment:
      WORDPRESS_DB_HOST: db
      WORDPRESS_DB_PASSWORD: root
    depends_on:
      - db

Run both
docker compose up -d

Check
docker ps
